---
title: とれたてHaskellまるごと１日分の入ったHaskellプロジェクトがこれです
tags: 備考録, Haskell
---
　今日はこんなのを作りました。

- [GitHub - aiya000/hs-hucheduler at 696fcff88229fe2b6e034092c1d7761006b811c5](https://github.com/aiya000/hs-hucheduler/tree/696fcff88229fe2b6e034092c1d7761006b811c5)

例により、[\@blac_k_ey](https://twitter.com/blac_k_ey)、[\@yassu0320](https://twitter.com/yassu0320)と謎の店に集まり、作業しました。

- - -

　これは、実行されると予め設定ファイルに書いておいた、曜日ごとの予定を表示してくれる、簡単なCLIアプリです。  
例えば、`.zshrc`や`.zshenv`的なものに、これを実行させるように書いておけば、一日の最初にシェルを開いたときに、予定を教えてくれます。  
「あとでまた教えて！」って言っておけば、そうしてくれます。

ずっとこんな感じのが欲しかったので、作りました。

作業時間は5時間いかない程度なので、ちょうど人間的な１日分の作業まるごとって感じです。  
つまり、**これが僕の今のHaskell力なのではないか？** と思い、備考録がてらこの日記を書きました。


# 感想
　先程 お風呂の中でてきとうに、Twitterに書いておいた感想をこちらにも書いておきます。

+ よくできたと思うところ
    - **適切な粒度の関数分割**ができたと思う
    - **適切なライブラリを選んで**、アプリ固有のロジックに絡まないものはライブラリに頼れたと思う
    - **可読性**を気にした（インデントが最大だと、関数から見て4レベルいってるけど抑えた）
    - 型に現れないエラーを気にした
    - README.mdをemojiで装飾してみた

+ 気になるところ
    - モジュール分割してない（小物だし、メンテナンスアビリティ高くなくてもいいかな？ とか考えて、やってないだけ）
    - 'mark'という名前が曖昧なので、他の言葉に置き換えた方が良さそう
    - `f $ g x`でいいところを`f . g $ x`としてる（気にしすぎといえば、そう）
    - 145行目の'remember'が先頭小文字（他は大文字始まり）（気にしすぎといえば、そう）


# 参考にしたページ
　参考にした、というよりも、stackageのAPIを引くなどして、見つけたドキュメントですね。  
stackageのAPIを引くのに、以下のVimプラグインを使用してます。 宣伝ですので、スターくれてもいいんですよ？

- [GitHub - aiya000/aref-web.vim: Web dictionaries on the vim with async.](https://github.com/aiya000/aref-web.vim)

はい、以下が参考にしたページです。

- [safe - stackage](https://www.stackage.org/haddock/lts-7.7/safe-0.3.9/index.html)
    - Haskellの危うい標準ライブラリ周り……`head`や`read`を安全に提供してくれるライブラリです
- [text-show - stackage](https://www.stackage.org/haddock/lts-7.7/text-show-3.4/index.html)
    - Show型クラスのText版を提供してくれるライブラリです
    - fromTextを使えば、難しいことは何もないはずです
- [time - hackage](http://hackage.haskell.org/package/time-1.8.0.1)
    - 日付、時刻を扱うライブラリです
    - 明示的には曜日を扱っていないようです（目標を正確に捉える姿勢、流石です）

- - -

　ところで、この記事を書くのに要した時間は約30分でした（特に何があるわけではありませんが、備考録ですので）。

食べても食べても太らない焼肉とｽｼが食べたいなー。
